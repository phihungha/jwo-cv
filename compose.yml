services:
  jwo-cv-service:
    container_name: jwo-cv-service
    image: haphihung55/jwo-cv-service:latest
    build: .
    environment:
      - JWO_CV_DEBUG=${JWO_CV_DEBUG:-0}
    ports:
      - ${SERVICE_PORT:-6000}:6000
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: 1
              capabilities: [ gpu ]
    command: python -m jwo_cv
